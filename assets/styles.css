:root{
  --gap:12px;
  --bg:#0f1720;
  --card:#0b1220;
  --muted:#9aa4b2;
  --accent:#4f46e5;
  --text:#e6eef6;
  --panel:#071226;
}

/* light theme overrides */
body.light{
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted:#556170;
  --accent:#4f46e5;
  --text:#0b1220;
  /* softened panel so preview isn't a stark white */
  --panel:#f3f6fb;
  background: linear-gradient(180deg,#ffffff 0%, #f6f8fb 100%);
  color: var(--text);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,#071024 0%, #0b1220 100%);color:#e6eef6}
.topbar{
	display:flex;
	align-items:center;
	justify-content:space-between;
	padding:10px 20px;
	gap:12px;
	background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
	backdrop-filter: blur(6px);
	border-bottom: 1px solid rgba(255,255,255,0.02);
}
.brand-wrap{display:flex;align-items:center}
.brand{
	/* ensure brand text aligns nicely */
	display:inline-flex;
	align-items:center;
	gap:8px;
	font-weight:700;
	font-size:18px;
	color:var(--text);
	padding:6px 8px;
	border-radius:6px;
	background:transparent;
	border:0;
	cursor:pointer;
}
/* remove .brand .logo and related selectors */
.brand .brand-title{color:var(--text);font-weight:700;margin-left:0}
.controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.controls button, .controls .toggle{
	background:transparent;
	border:1px solid rgba(255,255,255,0.06);
	color:var(--muted);
	padding:8px 10px;
	border-radius:8px;
	cursor:pointer;
	font-size:14px;
	transition:all .18s ease;
}
.controls button:hover{border-color:rgba(79,70,229,0.6);color:var(--text);transform:translateY(-1px)}
.controls button:active{transform:translateY(0)}
.controls .toggle{display:flex;align-items:center;gap:6px;padding:6px}
.controls input[type="checkbox"]{width:16px;height:16px}
main#app{display:flex;gap:var(--gap);padding:14px;height:calc(100vh - 120px);align-items:flex-start}

/* give editors more horizontal space so code blocks are larger */
#editors{
	flex: 0 0 62%;
	max-width: 62%;
	min-width: 320px;
	overflow:auto;
}

/* preview takes remaining space */
#preview{
	flex: 1 1 38%;
	min-width:260px;
	max-width:38%;
	/* allow controls positioned above the preview to be visible */
	overflow: visible;
}

/* make each editor card taller so textarea has more room */
.editor-card{
	display:flex;
	flex-direction:column;
	height:100%;
	min-height:250px;
	border-radius:8px;
	/* allow badges shown above headers to escape the card */
	overflow:visible;   /* changed from hidden */
	background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
	border:1px solid rgba(255,255,255,0.03);
	box-shadow: 0 6px 18px rgba(2,6,23,0.28);
}

/* editor header styled like a compact tab */
.editor-header{
	background:transparent;
	padding:8px 12px;
	font-size:13px;
	color:var(--muted);
	border-bottom:1px solid rgba(255,255,255,0.02);
	display:flex;
	align-items:center;
	justify-content:space-between;
	position:relative;
}

/* label + icon in editor header */
.editor-header .editor-label{
	display:inline-flex;
	align-items:center;
	gap:8px;
	font-weight:700;
	color:var(--muted);
}

/* language icon base */
.lang-icon{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	width:20px;
	height:20px;
	flex:0 0 20px;
	border-radius:4px;
}

/* per-language colors (uses currentColor inside SVG) */
.html-icon{ color:#e44d26; } /* HTML orange */
.css-icon{ color:#2965f1; }  /* CSS blue */
.js-icon{
	color:#f7df1e;     /* JS yellow */
	/* ensure a subtle dark stroke in svg paths remains visible on yellow */
	filter: drop-shadow(0 1px 0 rgba(0,0,0,0.12));
}

/* keep label text readable */
.editor-header .editor-label span{display:inline-block;vertical-align:middle}

/* slightly reduce icon size on small screens */
@media (max-width:820px){
	.lang-icon{width:18px;height:18px}
	.editor-header .editor-label{gap:6px}
}

.copy-btn{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	gap:6px;
	background:transparent;
	border:1px solid rgba(255,255,255,0.04);
	color:var(--muted);
	padding:6px;
	border-radius:6px;
	cursor:pointer;
	width:36px;
	height:30px;
	margin-left:8px;
	transition:background .14s ease, transform .12s ease, color .12s ease;
	position:relative; /* allow badge positioned inside button */
}
.copy-btn svg{ display:block; color:var(--muted); }
.copy-btn:hover{ background: rgba(255,255,255,0.02); color:var(--text); transform:translateY(-1px); }
.copy-btn:active{ transform:none; }

/* small "Copied" state - show subtle green tint */
.copy-btn.copied{
	background: linear-gradient(90deg, rgba(34,197,94,0.14), rgba(34,197,94,0.08));
	border-color: rgba(34,197,94,0.18);
	color: #22c55e;
}

/* visible inline badge that appears on copy */
.copy-btn .copied-badge{
	position:absolute;
	/* move badge a little higher and ensure it's above other UI */
	top:-38px;            /* slightly more space so it's visible */
	left:50%;
	transform:translateX(-50%);
	background:rgba(0,0,0,0.85);
	color:#fff;
	padding:6px 8px;
	border-radius:6px;
	font-size:12px;
	white-space:nowrap;
	box-shadow:0 8px 22px rgba(2,6,23,0.45);
	opacity:0;
	transition:opacity .14s ease, transform .14s ease;
	pointer-events:none;
	z-index:999;          /* increased z-index */
}

/* visible state */
.copy-btn.copied .copied-badge{
	opacity:1;
	transform:translateX(-50%) translateY(-4px);
}

/* fallback: if there isn't room above, show inside */
.copy-btn.small-badge .copied-badge{ top:6px; transform:translateX(-50%); }

/* optional tiny tooltip-like label (visually hidden by default) */
.copy-btn::after{
	content:'Copied';
	position:absolute;
	top:-30px;
	left:50%;
	transform:translateX(-50%);
	background:rgba(0,0,0,0.75);
	color:#fff;
	padding:4px 8px;
	border-radius:6px;
	font-size:12px;
	opacity:0;
	pointer-events:none;
	transition:opacity .18s ease, transform .18s ease;
	white-space:nowrap;
}
.copy-btn.copied::after{
	opacity:1;
	transform:translateX(-50%) translateY(-4px);
}

.editor{
	/* increased font size, line-height and padding for better readability */
	flex:1;
	padding:14px 18px;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
	font-size:16px;
	line-height:1.6;
	background: linear-gradient(180deg, rgba(8,10,16,0.65), rgba(6,8,12,0.55));
	color:var(--text);
	border:none;
	outline:none;
	resize:vertical;
	min-height:220px;

	/* code-like visuals */
	border-left:4px solid rgba(79,70,229,0.14);
	border-radius:0 0 6px 6px;
	box-shadow: inset 0 1px 0 rgba(255,255,255,0.015);
	white-space:pre;
	overflow:auto;
	tab-size:2;
	caret-color:var(--accent);
}

/* selection */
.editor::selection{ background: rgba(79,70,229,0.16); color:inherit }

/* preview area */
.preview-header{
	display:flex;
	align-items:center;
	justify-content:space-between;
	gap:12px;
	position:relative; /* allow absolute centering of controls */
}
.preview-header .preview-title{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:14px}
.preview-controls{
	display:flex;
	align-items:center;
	gap:8px;
	position:absolute;
	left:50%;
	transform:translateX(-50%);
	z-index:5;
}

/* ensure the title stays readable (behind controls if needed) */
.preview-header .preview-title{z-index:2}

/* mobile fallback: on small screens, restore normal flow so it stacks nicely */
@media (max-width: 820px){
	.preview-header{flex-direction:column;align-items:flex-start}
	.preview-controls{
		position:static;
		transform:none;
		width:100%;
		display:flex;
	}
}

#output{
	flex:1;
	border:1px solid rgba(0,0,0,0.06);
	border-radius:10px;
	width:100%;
	height:100%;
	min-height:320px;
	background:#f3f4f6; /* light grey surface */
	box-shadow: 0 8px 28px rgba(2,6,23,0.35);
	overflow:hidden;
}

/* make iframe sit nicely with padding by placing it inside a wrapper in HTML if needed;
   current iframe will still display its own content, so we provide visual frame here */

/* preview bar */
.preview-bar{display:flex;gap:8px;padding:10px 4px 0 0;flex-wrap:wrap}
.preview-bar button{
	padding:8px 10px;border-radius:6px;background:#fff;border:1px solid rgba(0,0,0,0.06);
	color:#222;font-size:13px;cursor:pointer;box-shadow:0 2px 6px rgba(2,6,23,0.12)
}
.preview-bar button:hover{transform:translateY(-2px);transition:all .12s ease}

/* console */
.console{margin-top:10px;border-top:1px solid rgba(255,255,255,0.03);padding-top:8px;display:flex;flex-direction:column;max-height:260px;overflow:hidden}
.console-header{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px;padding:2px 4px}
.console-body{
	background: #0b0f14;
	color:var(--text);
	font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,"Roboto Mono",monospace;
	padding:12px;border-radius:6px;border:1px solid rgba(255,255,255,0.03);
	overflow:auto;height:180px;font-size:14px;line-height:1.5;
	box-shadow: inset 0 2px 8px rgba(0,0,0,0.6);
}

/* status & footer */
.status{margin-left:8px;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted);font-size:12px}
.foot{text-align:center;padding:6px;color:var(--muted);font-size:12px}

/* scrollbar styling for editors & console */
.editor::-webkit-scrollbar, .console-body::-webkit-scrollbar, #output::-webkit-scrollbar {height:10px;width:10px}
.editor::-webkit-scrollbar-thumb, .console-body::-webkit-scrollbar-thumb {background:rgba(79,70,229,0.14);border-radius:8px}
.editor::-webkit-scrollbar-track, .console-body::-webkit-scrollbar-track {background:transparent}

/* show pressed/active state for preview toggle */
#togglePreviewBtn[aria-pressed="true"]{
	background: rgba(79,70,229,0.12);
	color: var(--text);
	border-color: rgba(79,70,229,0.3);
	transform: none;
}

/* nav-toggle (hamburger) hidden on desktop, visible on small screens */
.nav-toggle{
	display:none;
	width:40px;height:40px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);
	background:transparent;cursor:pointer;color:var(--text);
	align-items:center;justify-content:center;padding:6px;
}
.hamburger{display:inline-block;width:18px;height:14px;position:relative}
.hamburger:before,.hamburger:after,.hamburger div{content:"";position:absolute;left:0;right:0;height:2px;background:currentColor;border-radius:2px}
.hamburger:before{top:0}
.hamburger:after{bottom:0}
.hamburger div{ top: 6px;}

/* mobile menu styles */
.mobile-menu{
	display:none;
	position:absolute;
	left:12px;
	right:12px;
	top:62px; /* below header */
	background:var(--card);
	border-radius:8px;
	padding:10px;
	box-shadow:0 12px 36px rgba(2,6,23,0.6);
	z-index:60;
}

/* when mobile menu open */
.mobile-menu.open{display:block}

/* Hero/banner between topbar and editors to create breathing room and a friendly message */
.hero{
	/* center the inner content horizontally */
	padding:10px 20px;
	margin:12px 14px;
	border-radius:10px;
	background: linear-gradient(180deg, rgba(79,70,229,0.06), rgba(6,8,12,0.02));
	border:1px solid rgba(79,70,229,0.06);
	box-shadow: 0 10px 30px rgba(2,6,23,0.12);
	color:var(--muted);

	/* center instead of space-between */
	display:flex;
	align-items:center;
	justify-content:center;
}
.hero-inner{
	max-width:1100px;
	margin:0 auto;
	display:flex;
	flex-direction:column;
	gap:6px;
	align-items:center;      /* center children */
	text-align:center;      /* center text */
}

/* keep hero compact on small screens */
@media (max-width:820px){
	.hero{margin:10px;padding:12px;border-radius:8px}
	.hero-inner{align-items:center} /* ensure stays centered */
	.hero-title{font-size:16px}
	.hero-sub{font-size:13px}
}

/* Smooth controls & global transitions */
button, .editor, .controls button, .preview-bar button {
	transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease, border-color .12s ease;
}

/* Saved indicator */
.saved-indicator{
	display:inline-block;
	margin-left:8px;
	padding:6px 10px;
	border-radius:999px;
	background:rgba(255,255,255,0.03);
	color:var(--muted);
	font-size:13px;
	opacity:0;
	transform:translateY(-6px);
	transition:opacity .35s ease, transform .35s cubic-bezier(.2,.8,.2,1);
	pointer-events:none;
}
/* visible state */
.saved-indicator.visible{
	opacity:1;
	transform:translateY(0);
}

/* mobile menu smooth slide */
.mobile-menu{
	max-height:0;
	overflow:hidden;
	transition:max-height .36s cubic-bezier(.22,.9,.27,1), opacity .28s ease, transform .28s ease;
	opacity:0;
	transform:translateY(-6px);
}
.mobile-menu.open{
	max-height:480px;
	opacity:1;
	transform:translateY(0);
}

/* iframe fade when reloading preview */
#output{
	transition:opacity .28s ease;
	opacity:1;
}
/* faded state applied while building preview */
#output.fading{
	opacity:0.12;
}

/* editor focus glow */
.editor:focus{
	box-shadow: 0 6px 24px rgba(79,70,229,0.09), inset 0 1px 0 rgba(255,255,255,0.02);
	border-left-color: rgba(79,70,229,0.32);
	outline: none;
}

/* nicer scrollbar for editors and preview on modern browsers */
.editor::-webkit-scrollbar, .console-body::-webkit-scrollbar, #output::-webkit-scrollbar {
	width:10px;height:10px;
}
.editor::-webkit-scrollbar-thumb, .console-body::-webkit-scrollbar-thumb {
	background: linear-gradient(180deg, rgba(79,70,229,0.14), rgba(79,70,229,0.1));
	border-radius:10px;
}
.editor::-webkit-scrollbar-track, .console-body::-webkit-scrollbar-track {
	background:transparent;
}

/* ensure run button has subtle pressed state */
.run-btn:active{ transform: translateY(0); box-shadow: 0 6px 18px rgba(79,70,229,0.14) }

/* small responsive polishing */
@media (max-width: 820px){
	.saved-indicator{position:relative;display:block;margin:8px 0 0 0}
}

/* Responsive behaviors */
@media (max-width: 1100px){
	#editors{flex: 0 0 58%; max-width:58%}
	#preview{max-width:42%}
}
@media (max-width: 900px){
	main#app{flex-direction:column;padding:10px}
	.editor-row{grid-template-columns:1fr}
	#preview{order:2}
	#editors{order:1;flex:1;max-width:none}
	.editor-card{min-height:180px}
	.editor{min-height:140px;font-size:15px;line-height:1.45;padding:12px}
	.console-body{height:140px}
}

/* small accessibility focus states */
button:focus, .brand:focus{outline:2px solid rgba(79,70,229,0.22);outline-offset:2px}

/* stacked layout: editors row (3 columns) across full width, preview below full width */
body.stacked main#app{
	/* keep main column flow so preview sits below editors */
	flex-direction: column;
	align-items: stretch;
}

/* editors should be full width and keep their 3-column grid for HTML/CSS/JS */
body.stacked #editors{
	flex: 0 0 auto;
	width: 100%;
	max-width: 100%;
	padding-bottom: 12px;
}

/* keep editors arranged horizontally as three columns */
body.stacked .editor-row{
	grid-template-columns: repeat(3, 1fr);
	gap: 12px;
}

/* preview becomes full width below editors */
body.stacked #preview{
	flex: 0 0 auto;
	width: 100%;
	max-width: 100%;
	margin-top: 14px;
}

/* slightly reduce editor-card min-height when stacked so less empty space */
body.stacked .editor-card{
	min-height: 180px;
}

/* ensure iframe preview uses full width frame in stacked mode */
body.stacked #output{
	min-height:260px;
}

/* Run button near preview */
.run-btn{
	padding:8px 10px;
	border-radius:8px;
	background:linear-gradient(90deg,var(--accent), #6b46ff);
	color:white;
	border: none;
	font-weight:600;
	cursor:pointer;
	box-shadow: 0 4px 14px rgba(79,70,229,0.18);
	transition:transform .12s ease, box-shadow .12s ease;
}
.run-btn:hover{ transform: translateY(-2px); box-shadow: 0 8px 26px rgba(79,70,229,0.2); }

/* smaller touch-friendly run button on mobile */
@media (max-width: 820px){
	.run-btn{padding:10px 12px;font-size:15px;border-radius:8px;width:100%}
	.preview-header{flex-direction:column;align-items:flex-start}
	.preview-controls{width:100%}
}

/* make all inner shapes follow currentColor for reliable theming */
/* .brand .logo *{
	stroke: currentColor !important;
	fill: currentColor !important;
} */

/* if paths are intended to be strokes only, ensure fill is none for clarity */
/* .brand .logo path{ fill: none; } */
.brand .logo *{
	stroke: currentColor !important;
	fill: currentColor !important;
}

/* if paths are intended to be strokes only, ensure fill is none for clarity */
.brand .logo path{ fill: none; }
.brand .logo path{ fill: none; }
/* make preview a positioned container so controls can be placed above it */
#preview{ position: relative; }

/* position run button centered above the preview surface (not overlapping iframe) */
.preview-controls{
	/* keep flex for multiple controls */
	display:flex;
	align-items:center;
	gap:8px;

	/* position above preview */
	position:absolute;
	/* nudge upward a bit more so it's clearly above the preview border */
	top: -32px;
	left: 50%;
	transform: translateX(-50%);
	z-index: 120;         /* ensure it sits above header and other UI */

	/* subtle visual anchor */
	padding:4px;
}

/* make the run button more prominent and avoid blending with header */
.run-btn{
	padding:8px 14px;
	border-radius:10px;
	background:linear-gradient(90deg,var(--accent), #6b46ff);
	color:white;
	border: 0;
	font-weight:600;
	cursor:pointer;
	box-shadow: 0 8px 22px rgba(79,70,229,0.18);
}

/* mobile fallback: restore normal flow so it stacks nicely */
@media (max-width: 820px){
	.preview-controls{
		position:static;
		transform:none;
		width:100%;
		display:flex;
		margin-top:8px;
		justify-content:flex-start;
	}
}
